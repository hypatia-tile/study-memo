= Dockerize Spring Boot application

== Run a Simple Spring Boot App in Docker

=== Prerequisites:

* Java installed (e.g., OpenJDK 17 or 21)
* Docker installed
* Gradle or Maven (we'll use Gradle here)
* A basic Spring Boot project (we'll create one now)

=== Step 1: Create a Simple Spring Boot App

You can generate a project from https://start.spring.io/
or create it manually.

Project structure:
[directory]
----
demo/
  |_ build.gradle.kts
  |_ settings.gradle
  |_ src/
    |_ main/
      |_ java/
        |_ com/
          |_ example/
            |_ demo/
              |_ DemoApplication.java
              |_ controller/
                |_ HelloController.java
----

`build.gradle.kts` -- a minimal example

[source, kotlin]
----
plugins {
    id("org.springframework.boot") version "3.2.0"
    id("io.spring.dependency-management") version "1.1.3"
    java
}

group = "com.example"
version = "0.0.1-SNAPSHOT"
java.sourceCompatibility = JavaVersion.VERSION_17

repositories {
    mavenCentral()
}
dependencies {
    implementation("org.springframework.boot:spring-boot-starter-web")
}
----

`src/main/java/com/example/demo/DemoApplication.java` -- main class
[source, java]
----
package com.example.demo;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.web.bind.annotation.*;

@SpringBootApplication
@RestController
public class DemoApplication {
    
    public static void main(String[] args) {
        SpringApplication.run(DemoApplication.class, args);
    }

    @GetMapping("/")
    public String hello() {
        return "Hello from Spring Boot in Docker!";
    }
}

----

=== Step 2: Build the JAR

[source, bash]
----
./gradlew bootJar
----

The JAR file will be in `build/libs/` like `demo-0.0.1-SNAPSHOT.jar`.

=== Step 3: Write a Dockerfile

[source, dockerfile]
----
FROM eclipse-temurin:17-jdk
ARG JAR_FILE=build/libs/demo-0.0.1-SNAPSHOT.jar
COPY ${JAR_FILE} app.jar

ENTRYPOINT ["java", "-jar", "/app.jar"]

----

=== Step 4: Build the Docker Image

[source, bash]
----
docker build -t springboot-demo .
----

=== Step 5: Run the Container

[source, bash]
----
docker run -p 8081:8080 springboot-demo
----

You can now access the app at `http://localhost:8081/` and see the message:

[source, text]
----
Hello from Spring Boot in Docker!
----
