# 2025-10-11

This is a temporary note for my daily learning.
Contents will be moved to other places later.
    
## Zsh's `autoload` keyword

I was not able to find a documentation for the widly used `autoload` command in zsh.
Does anybody can explain it in plain English?

```zsh
autoload -Uz vcs_info
```

### ans.

The `autoload` feature is not available in bash, but it is in `ksh`(korn shell) and `zsh`.
On `zsh` see `man zshbuiltins`

Functions are called in the same way as any other command.
There can be a name conflict between a program and a function.
What `autoload` does is to mark that name as being a function rather than an external program.
The function has to be in a file on its own, with the filename the same as the function name.

```zsh
autoload -Uz vcs_info
```

The `-U` means mark the function `vcs_info` for autoloading and suppress alias expansion.
The `-z` means use `zsh` (rather than `ksh`) style.
See also [the function command.](https://zsh.sourceforge.io/Doc/Release/Functions.html)

So it records the fact that the name is a function and not an external program -- it does not call it unless the `-X` option is used, it just affects the search path when it is called.
If the functionname does not collide with the name of a program then it is not required.
Prefix your functions with something like `f_` and you will probably never need it.

## Is the example of `autoload`? No this is why I want to know about it.

### Git in Zsh

Zsh also ships with a tab-completion library for Git.
To use it, simply run `autoload -Uz compinit && compinit`
in your `.zshrc`.
Zsh's interface is a bit more powerful than Bash's:

```zsh
$ git che<tab>
check-attr -- display gitattributes information
check-ref-format -- ensure that a reference name is well formed
checkout -- checkout branch or paths to working tree
checkout-index -- copy files from index to working directory
cherry -- find commits not merged upstream
cherry-pick -- apply changes introduced by some existing commits
```

Ambiguous tab-completions aren't just listed; they have helpful descriptions, and you can graphically navigate the list by repeatedly hitting tab.
This works with Git commands, their arguments, and names of things inside the repository (like refs and remotes), as well as filenames and all the other things Zsh knows how to tab-complete.
