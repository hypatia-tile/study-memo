# 2025-10-12_111258

This is a temporary note for my daily learning.
Contents will be moved to other places later.

## The Clipboard

Different shell environments and operating systems manage the clipboard in different ways.
Being able to quickly copy and paste to and from the shell is essential to using it effectively.
This section will explain how the clipboard works on different systems and how to create your own clipboard command that will work across systems.

### Mastering Clipboard Essentials

You are probably familiar with the common keyboard shortcuts to copy and paste content and from the clipboard:
`CTRL+C` to copy, `CTRL+X` to cut, and `CTRL+V` to paste on Linux and Windows,
and `CMD+C`, `CMD+X`, and `CMD+V` on macOS.
However, these commands do not work the same way in every shell.
For example, here I've tried to use `CTRL+V` a few times to paste into a terminal on Ubuntu:
```bash
$ ^V^V^V
```

Instead of pasting the contents of the clipboard into the shell,
this key combination has written the characters `^V` to the terminal.
Why is this?

One reason is historical (the shell has been around for a long time,
so you will see this answer a lot).
Using `CTRL` in a shell sends a **signal** --a special command that shell uses to control programs.
Specifically, by using `CTRL` you are signaling your intention to program an action rather than enter text with your next keystroke.
Most modern operating system have adopted this convention.
For example `CTRL-S` is used almost universally as a shortcut for the save command.

Modern shells tend to follow the conventions established by earlier shells to ensure a consistent experience for uses.
Both `CTRL-C` and `CTRL-V` have long had specific meanings in the shell
that predate the current copy and paste shortcuts.
Using `CTRL-C` cancels a runnihng program by telling the shell to send an **interrupt signal** to the program, which terminates it.
Yor will see signals again and again thoughout the book.

What about `CTRL-V`?
This is the fancy-sounding **verbatim insert** command.
It tells the shell to write out the subsequent keystroke directly to the screen rather than interpreting it as a `CTRL` command.
By using `CTRL-V`, you can write out special characters like the escape key,
left or right keys, left or right keys, and even the `CTRL-V` combination itself as in the previous exampele.

If your type `CTRL-V` twice, the shell writes out the text `^V`.
The *caret* or *hat* symbol `^` represents `CTRL` in this context.
The first `CTRL-V` tells the shell to write out the following command,
so the shell to write out the following command,
so the second `CTRL-V` is written out **verbatim**, meaning the text representation of the command is displayed.

You can try writing out some different sequences.
You'll see various odd-looking symbols for special keys like the `ALT` key.

Because the shell is already using the keyboard combinations you would normally use for clipboard command, you will need alternatives for those functions.
Follow the instructions I have provided next for your particular platform.

##### Degression: Using `CTRL-V` to insert special characters
```bash
$ echo "hello, world^[[D^[[Dk!"
hello, work!
```
Above, I used `CTRL-V` followed by the left arrow key twice to move the cursor back two spaces, resulting in the corrected output.

### Clipboard on Windows

If you're using Command Prompt, then the usual shortcuts will work fine.
However, if you are using Windows Subsystem for Linux(WSL) and bash, you will need to tweak the configuration.

To set up an alternative, go to `Properties` > `Options`, select `Use Ctrl+Shift+C/V as Copy/Paste`, and click `OK`.
You can now use `CTRL-SHIFT-C` for copy and `CTRL-SHIFT-V` for paste.
To select text, hold down the right mouse button and drack over it.

### Clipboard on Linux

On most Linux systems, you will be using *GNOME Terminal* or *KDE's Konsole*, which  means that you can use `CTRL-SHIFT-C` for copy and `CTRL-SHIFT-V` for paste.
To select text, hold down the right mouse button and drag over it, or right-click the text.

### Clipboard on macOS

Mac Users can just use the standard `CMD-C` and `CMD-V` shortcuts to copy and paste in the terminal.
The shell does not recognize the  special Mac command character, so these shortcuts do not clash with any existing ones.
To  select text, hold down the left mouse button and drag over it.

## Creating Custom Clipboard Commands

Copying and pasting text to and from the clipboard is useful, but you can do a lot more.
Wiht a couple of basic commands, you can hugely expand your capabilities and make everyday tasks far easier to accomplish.
However, there is one small hurdle to clear first:
the clipboard is accessed in different ways on Windows, Linux, and macOS.
In other words, there is no standard tool you can use across all three platforms ot manage the clipboard.

To addres this problem, I will walk Windows and Linux users through creating two clippboard commands that will work across platforms:
`pbcopy` and `pbpaste`.
If you are a Mac user, you do not need to do anything;
`pbcopy` and `pbpaste` are built in to macOS.

### Platform-specific clipboard commands in Windows

Assuming you're using WSL, you will need to run the following commands:

```bash
$ alias pbcopy='clip.exe'
$ alias pbpaste="powershell.exe -command Get-Clipboard | tr -d '\r' | head -n -1"
```

Do not worry for now about how these commands work; by the time you have gone through the book, they should make perfect sense.

### Platform-specific clipboard commands in Linux

On Linux, first you'll install the `xclip` program and
then set up the `pbcopy` and `pbpaste` commands to use it:
```bash
$ sudo apt install -y xclip
$ alias pbcopy="xclip -selection c"
$ alias pbpaste="xclip -selection c -o"
```

If you are already confident with how `xclip` works and want to use it directly, there is no need to run these commands.

For both  Windows and Linux, you have used the `alias` command to create `pbcopy` and `pbpaste`.
In bash (and most shells), an alias is a shortcut for a longer command.
