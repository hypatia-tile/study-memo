= Walk through the **big picture** of creating application using Docker and how Docker is configured and works under the hood

== 1. What is Docker?

Docker is a containerization platform.
It lets you package applications and their dependencies (e.g., libraries, runtime, config files)
into containers that run reliably across environments.

=== Key Concepts

* Image: A read-only template (like a snapshot) that defines the environment and app.
* Container: A running instance of an image.
* Dockerfile: A script that defines how to build an image.
* Docker Engine: The software that runs and manages containers.

== 2. How to create Application Using Docker?

Let's break it into simple steps:

=== Step 1: Write Your Application

Let's say you have a simple `app.py` (for a Python app):

[source, python]
----
#app.py
print("Hello from Docker!")
----

=== Step 2: Create a Dockerfile

This tells Docker how to build your image:

[source, dockerfile]
----
# Use the official Python image
FROM python:3.11-slim

# Set working directory
WORKDIR /app

# Copy files into the container
COPY . .

# Command to run the app
CMD ["python", "app.py"]
----

=== Step 3: Build the Docker Image

In the terminal:

[source, bash]
----
docker build -t my-python-app .
----

This creates an image named `my-python-app`.

=== Step 4: Run the Application

[source, bash]
----
docker run my-python-app
----

You'll see:

[source, bash]
----
Hello from Docker!
----

== 3. How Docker Works(Behind the Scenes)


=== High-Level Architecture:

* Docker CLI: Command-line interface (e.g., `docker run`, `docker build`, etc.)
* Docker Daemon(dockerd): A background service that manages images, containers, networks.
* Docker Images: Layered file systems; each command in the Dockerfile creates a new layer.
* Docker Containers: Isolated environments using Linux kernel features (namespaces, cgroups).

=== Key Components:

[cols="1,2", options="header"]
|===
| Component
| Description

| Namespaces
| Isolate container processes, filesystems, users, etc.

| Cgroups
| Limit and monitor CPU, memory usage of containers.

| Union File System
| Efficient image layering and caching.

| OverlayFS
| Default driver for Docker images/containers.

|===

== 4. How is Docker Configured?

=== Docker file

Defines how to build your app image.

[source, dockerfile, caption="docker.compose.yml(for multi-container apps)"]
----
version: "3.9"
services:
    web:
        build: .
        ports:
            - "5000:5000"
----

Then run with:

[source, bash]
----
docker-compose up
----

=== Configuration Files and CLI Flags

* Default configs: `/ets/docker/daemon.json`
* Environment variables: `DOCKER_HOST`, `DOCKER_TLS_VERIFY`, etc.

== TL;DR

* Docker packages your app and everything it needs to run.
* You define your environment using a Dockerfile.
* Docker images are built from the Dockerfile and run as containers.
* Internally, Docker uses Linux features for isolation and efficiency.

